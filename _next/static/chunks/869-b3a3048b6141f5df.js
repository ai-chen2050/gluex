(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[869],{8437:function(e,t,a){"use strict";a.d(t,{q:function(){return c}});var n=a(9828),s=a(4306),r=a(4718),o=a(1755),i=a(7294),l=JSON.parse('{"address":"6ExBjE2VPbP8YZhWoXuBgSac5MHS3J8dfviUFuUeBqZe","metadata":{"name":"gluex","version":"0.1.0","spec":"0.1.0","description":"Created with Anchor"},"instructions":[{"name":"add_maintainer","discriminator":[58,137,30,214,212,175,183,203],"accounts":[{"name":"fee_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,117,101,120,45,102,101,101,45,112,111,111,108]}]}},{"name":"founder","signer":true}],"args":[{"name":"maintainer","type":"pubkey"}]},{"name":"claim_unused","discriminator":[124,236,21,199,101,61,78,61],"accounts":[{"name":"goals","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,117,101,120,45,103,111,97,108,115]},{"kind":"account","path":"goals.issuer","account":"TotalGoal"},{"kind":"account","path":"goals.taker","account":"TotalGoal"}]}},{"name":"issuer","writable":true,"signer":true}],"args":[]},{"name":"create_fee_pool","discriminator":[181,227,61,52,198,41,25,65],"accounts":[{"name":"fee_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,117,101,120,45,102,101,101,45,112,111,111,108]}]}},{"name":"payer","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"founder","type":"pubkey"}]},{"name":"distribute_fees","discriminator":[120,56,27,7,53,176,113,186],"accounts":[{"name":"fee_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,117,101,120,45,102,101,101,45,112,111,111,108]}]}},{"name":"founder_dest","writable":true}],"args":[]},{"name":"review_subgoal","discriminator":[221,94,97,70,217,114,201,12],"accounts":[{"name":"goals","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,117,101,120,45,103,111,97,108,115]},{"kind":"account","path":"goals.issuer","account":"TotalGoal"},{"kind":"account","path":"goals.taker","account":"TotalGoal"}]}},{"name":"issuer","signer":true},{"name":"taker_account","writable":true}],"args":[{"name":"subgoal_index","type":"u8"},{"name":"approve","type":"bool"}]},{"name":"set_fee_params","discriminator":[217,73,193,227,183,14,200,188],"accounts":[{"name":"fee_pool","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,117,101,120,45,102,101,101,45,112,111,111,108]}]}},{"name":"founder","signer":true}],"args":[{"name":"numerator","type":"u64"},{"name":"denominator","type":"u64"}]},{"name":"setup_goal","discriminator":[171,112,224,9,171,187,146,248],"accounts":[{"name":"goals","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,117,101,120,45,103,111,97,108,115]},{"kind":"account","path":"payer"},{"kind":"arg","path":"taker"}]}},{"name":"payer","writable":true,"signer":true},{"name":"fee_pool","writable":true,"optional":true},{"name":"system_program","address":"11111111111111111111111111111111"}],"args":[{"name":"taker","type":"pubkey"},{"name":"description","type":"string"},{"name":"room","type":{"defined":{"name":"Roomspace"}}},{"name":"relations","type":{"defined":{"name":"Relations"}}},{"name":"eventype","type":{"defined":{"name":"EventType"}}},{"name":"sub_goals","type":{"vec":{"defined":{"name":"SubGoalInput"}}}},{"name":"total_incentive_amount","type":"u64"},{"name":"completion_time","type":"i64"},{"name":"locked_amount","type":"u64"},{"name":"unlock_time","type":"i64"},{"name":"config","type":{"defined":{"name":"GoalConfigInput"}}}]},{"name":"submit_proof","discriminator":[54,241,46,84,4,212,46,94],"accounts":[{"name":"goals","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,117,101,120,45,103,111,97,108,115]},{"kind":"account","path":"goals.issuer","account":"TotalGoal"},{"kind":"account","path":"goals.taker","account":"TotalGoal"}]}},{"name":"taker","signer":true}],"args":[{"name":"subgoal_index","type":"u8"},{"name":"proof_uri","type":"string"}]},{"name":"trigger_surprise","discriminator":[186,90,173,71,154,255,243,253],"accounts":[{"name":"goals","writable":true,"pda":{"seeds":[{"kind":"const","value":[103,108,117,101,120,45,103,111,97,108,115]},{"kind":"account","path":"goals.issuer","account":"TotalGoal"},{"kind":"account","path":"goals.taker","account":"TotalGoal"}]}},{"name":"taker_account","writable":true}],"args":[]}],"accounts":[{"name":"FeePool","discriminator":[172,38,77,146,148,5,51,242]},{"name":"TotalGoal","discriminator":[72,64,113,26,170,125,93,94]}],"errors":[{"code":6000,"name":"None"},{"code":6001,"name":"DescExceedMaxChars","msg":"Description exceeds the maximum character limit"},{"code":6002,"name":"RelationsNotSupport","msg":"Relations type is not supported"},{"code":6003,"name":"RoomNotSupport","msg":"Room type is not supported"},{"code":6004,"name":"EventTypeNotSupport","msg":"EventType type is not supported"},{"code":6005,"name":"SubGoalNumExceed","msg":"SubGoal number too many,maximum is five target"},{"code":6006,"name":"PayerAccountInsufficient","msg":"Payer account amount insufficient,account amount must bigger than total_incentive_amount"},{"code":6007,"name":"LockedAmountInvalid","msg":"Locked amount must smaller than total_incentive_amount"},{"code":6008,"name":"SumOfSubgoalAmountInvalid","msg":"The sum of subgoal amount must smaller than total_incentive_amount"},{"code":6009,"name":"UnLockedTimeInvalid","msg":"UnLocked time must bigger than completion time"},{"code":6010,"name":"SubGoalIndexOutOfBounds","msg":"Subgoal index out of bounds"},{"code":6011,"name":"SubGoalAlreadyFinalized","msg":"Subgoal already finalized"},{"code":6012,"name":"ProofAlreadySubmitted","msg":"Proof already submitted for this subgoal"},{"code":6013,"name":"ProofMissing","msg":"Proof submission required before verification"},{"code":6014,"name":"UnauthorizedSigner","msg":"Only issuer can execute this action"},{"code":6015,"name":"UnauthorizedTaker","msg":"Only taker can execute this action"},{"code":6016,"name":"SurpriseTimeNotReached","msg":"Surprise trigger time not reached"},{"code":6017,"name":"UnlockTimeNotReached","msg":"Unlock time not reached"},{"code":6018,"name":"NoFundsAvailable","msg":"No funds available to claim"},{"code":6019,"name":"MissingSubGoals","msg":"Missing subgoals for this event type"},{"code":6020,"name":"HabitConfigInvalid","msg":"Habit configuration is invalid"},{"code":6021,"name":"InvalidCheckpointInterval","msg":"Checkpoint interval must be positive"},{"code":6022,"name":"ParsePubkeyError","msg":"Parse public key error"},{"code":6023,"name":"InvalidSubgoalFormat","msg":"Invalid subgoal format"},{"code":6024,"name":"MaxMaintainersReached","msg":"Maximum number of maintainers reached"}],"types":[{"name":"EventType","type":{"kind":"enum","variants":[{"name":"HabitTraning"},{"name":"TargetAchieve"},{"name":"SurpriseTime"}]}},{"name":"FeePool","type":{"kind":"struct","fields":[{"name":"founder","type":"pubkey"},{"name":"maintainers","type":{"vec":"pubkey"}},{"name":"protocol_fee_numerator","type":"u64"},{"name":"protocol_fee_denominator","type":"u64"},{"name":"bump","type":"u8"}]}},{"name":"GoalConfigInput","type":{"kind":"struct","fields":[{"name":"start_time","type":"i64"},{"name":"surprise_time","type":"i64"},{"name":"checkpoint_interval","type":"i64"}]}},{"name":"Relations","type":{"kind":"enum","variants":[{"name":"Parents"},{"name":"Lover"},{"name":"Bosstaff"},{"name":"Partner"},{"name":"Dao"}]}},{"name":"Roomspace","type":{"kind":"enum","variants":[{"name":"LoveGame"},{"name":"GroupGame"}]}},{"name":"SubGoal","type":{"kind":"struct","fields":[{"name":"title","type":{"array":["u8",48]}},{"name":"deadline","type":"i64"},{"name":"incentive_amount","type":"u64"},{"name":"status","type":{"defined":{"name":"SubGoalStatus"}}},{"name":"proof_uri","type":{"array":["u8",128]}},{"name":"submitted_at","type":"i64"},{"name":"verifier","type":"pubkey"},{"name":"auto_release_at","type":"i64"},{"name":"is_active","type":"bool"}]}},{"name":"SubGoalInput","type":{"kind":"struct","fields":[{"name":"title","type":"string"},{"name":"deadline","type":"i64"},{"name":"incentive_amount","type":"u64"},{"name":"auto_release_at","type":"i64"}]}},{"name":"SubGoalStatus","type":{"kind":"enum","variants":[{"name":"Pending"},{"name":"ProofSubmitted"},{"name":"Approved"},{"name":"Rejected"},{"name":"Paid"}]}},{"name":"TotalGoal","type":{"kind":"struct","fields":[{"name":"issuer","type":"pubkey"},{"name":"taker","type":"pubkey"},{"name":"description","type":"string"},{"name":"room","type":{"defined":{"name":"Roomspace"}}},{"name":"relations","type":{"defined":{"name":"Relations"}}},{"name":"eventype","type":{"defined":{"name":"EventType"}}},{"name":"sub_goals","type":{"array":[{"defined":{"name":"SubGoal"}},5]}},{"name":"active_sub_goals","type":"u8"},{"name":"total_incentive_amount","type":"u64"},{"name":"deposited_amount","type":"u64"},{"name":"released_amount","type":"u64"},{"name":"completion_time","type":"i64"},{"name":"locked_amount","type":"u64"},{"name":"unlock_time","type":"i64"},{"name":"start_time","type":"i64"},{"name":"surprise_trigger_ts","type":"i64"},{"name":"checkpoint_interval","type":"i64"},{"name":"completed_count","type":"u8"},{"name":"failed","type":"bool"},{"name":"bump","type":"u8"}]}}]}');new o.PublicKey(l.address);var c=function(){var e=(0,s.O)(),t=(0,r.R)().connection;return(0,i.useMemo)(function(){if(!e.publicKey||!e.signTransaction||!e.signAllTransactions)return null;var a=new n.Y7(t,e,n.Y7.defaultOptions());return new n.$r(l,a)},[t,e])}},5161:function(e,t,a){"use strict";a.d(t,{Ii:function(){return l},Qn:function(){return o},mq:function(){return s},s_:function(){return r}});var n=a(1755),s=function(e){return Math.round((e||0)*n.LAMPORTS_PER_SOL)},r=function(e){return(e||0)/n.LAMPORTS_PER_SOL},o=function(e){if("number"==typeof e)return Math.floor(e);if(!e)return 0;var t=Date.parse(e);return Number.isNaN(t)?0:Math.floor(t/1e3)},i=new TextDecoder,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return"";for(var t=new Uint8Array(e),a=t.length,n=0;n<t.length;n+=1)if(0===t[n]){a=n;break}return i.decode(t.slice(0,a))}},22:function(e,t,a){"use strict";a.d(t,{O:function(){return y}});var n=a(6835),s=a(29),r=a(7812),o=a(7521),i=a.n(o),l=a(7794),c=a.n(l),d=a(9828),m=a(7294),u=a(4306),p=a(143),x=a(8437),g=a(5161),h=a(7048),f=a(5535),b=a(5893),v={en:{title:"Leaders",subtitle:"Real-time leaderboard and analytics",totalGoals:"Total Goals",uniqueUsers:"Unique Users",totalIncentive:"Total Incentive",topGoals:"Top Goals by Incentive",topUsers:"Top Users by Issued Incentives",refresh:"Refresh",loading:"Loading...",description:"Description",amount:"Amount (SOL)",issuer:"Issuer",taker:"Taker"},zh:{title:"排行榜",subtitle:"实时排行榜与数据分析",totalGoals:"任务总数",uniqueUsers:"用户数",totalIncentive:"总激励",topGoals:"按激励金额排行",topUsers:"按发起激励排行",refresh:"刷新",loading:"加载中...",description:"描述",amount:"金额（SOL）",issuer:"发起人",taker:"执行者"}},j=function(e){return e?String(e).slice(0,8)+"…":"—"},y=function(){var e,t=(0,x.q)();(0,u.O)();var a=(0,p.Z)().set,o=(0,h.Z)().language,l=(0,f.lt)().networkConfiguration,y=v[o],_="mainnet"===l?"":"?cluster=".concat(l),k=(0,m.useState)(!1),N=k[0],w=k[1],S=(0,m.useState)([]),T=S[0],I=S[1],B=(0,m.useState)("all"),G=B[0],M=B[1],A=(0,m.useState)(""),P=A[0],R=A[1],O=(0,m.useState)(""),U=O[0],L=O[1],E=(0,m.useCallback)(function(e,t,n){a(function(a){a.notifications=[].concat((0,r.Z)(a.notifications),[{type:e,message:t,description:n}])})},[a]),Y=(0,m.useCallback)((0,s.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return w(!0),e.prev=3,e.next=6,t.account.totalGoal.all();case 6:I(e.sent),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0),E("error",y.loading,e.t0.message);case 14:return e.prev=14,w(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[3,10,14,17]])})),[t,E,y.loading]);(0,m.useEffect)(function(){Y()},[Y]);var C=(0,m.useMemo)(function(){var e=T.filter(function(e){var t,a,n,s=e.account,r="habitTraning"===(n=null!==(t=Object.keys(null!==(a=s.eventype)&&void 0!==a?a:{})[0])&&void 0!==t?t:"")?"habit":"targetAchieve"===n?"target":"surpriseTime"===n?"surprise":"";if("all"!==G&&G!==r)return!1;if(P||U){var o=d.BN.isBN(s.completionTime)?s.completionTime.toNumber():Number(s.completionTime||0),i=P?Math.floor(Date.parse(P)/1e3):-1/0,l=U?Math.floor(Date.parse(U)/1e3):1/0;if(o<i||o>l)return!1}return!0}),t=e.length,a=new Set,n=BigInt(0);e.forEach(function(e){var t,s,r=e.account,o=null!==(t=r.issuer)&&void 0!==t&&t.toBase58?r.issuer.toBase58():String(r.issuer),i=null!==(s=r.taker)&&void 0!==s&&s.toBase58?r.taker.toBase58():String(r.taker);a.add(o),a.add(i);var l=r.totalIncentiveAmount;BigInt(0),n+=d.BN.isBN(l)?BigInt(l.toNumber()):BigInt("number"==typeof l?l:Number(l||0))});var s=e.slice(0,100);return{totalGoals:t,uniqueUsers:a.size,totalIncentiveLamports:n,filtered:e,limited:s}},[T,G,P,U]),Z=(0,m.useMemo)(function(){var e,t=null!==(e=C.limited)&&void 0!==e?e:T.slice(0,100);return(0,r.Z)(t).sort(function(e,t){var a=d.BN.isBN(e.account.totalIncentiveAmount)?e.account.totalIncentiveAmount.toNumber():Number(e.account.totalIncentiveAmount||0);return(d.BN.isBN(t.account.totalIncentiveAmount)?t.account.totalIncentiveAmount.toNumber():Number(t.account.totalIncentiveAmount||0))-a}).slice(0,10)},[T,C]),q=(0,m.useMemo)(function(){var e,t=new Map;return(null!==(e=C.limited)&&void 0!==e?e:T.slice(0,100)).forEach(function(e){var a,n=e.account,s=null!==(a=n.issuer)&&void 0!==a&&a.toBase58?n.issuer.toBase58():String(n.issuer),r=n.totalIncentiveAmount,o=BigInt(0);o=d.BN.isBN(r)?BigInt(r.toNumber()):BigInt("number"==typeof r?r:Number(r||0)),t.set(s,(t.get(s)||BigInt(0))+o)}),Array.from(t.entries()).sort(function(e,t){return Number(t[1]-e[1])}).slice(0,10)},[T,C]),z=(0,m.useMemo)(function(){var e,t={habit:0,target:0,surprise:0,unknown:0};return(null!==(e=C.limited)&&void 0!==e?e:T.slice(0,100)).forEach(function(e){var a,n,s=null!==(a=Object.keys(null!==(n=e.account.eventype)&&void 0!==n?n:{})[0])&&void 0!==a?a:"";"habitTraning"===s?t.habit+=1:"targetAchieve"===s?t.target+=1:"surpriseTime"===s?t.surprise+=1:t.unknown+=1}),t},[T,C]),D=(0,m.useMemo)(function(){var e,t=Math.floor(Date.now()/1e3),a=Array.from({length:30},function(){return 0});return(null!==(e=C.limited)&&void 0!==e?e:T.slice(0,100)).forEach(function(e){var n=e.account,s=d.BN.isBN(n.completionTime)?n.completionTime.toNumber():Number(n.completionTime||0);if(s){var r=Math.floor((t-s)/86400);r>=0&&r<30&&(a[29-r]+=1)}}),a},[T,C]);return(0,b.jsxs)("div",{className:"jsx-4087430059 mx-auto max-w-6xl px-3 sm:px-4 py-8 sm:py-12 space-y-8 sm:space-y-12",children:[(0,b.jsxs)("section",{className:"jsx-4087430059 rounded-xl sm:rounded-2xl border border-indigo-500/20 bg-gradient-to-br from-slate-950/60 to-slate-900/60 backdrop-blur-md p-4 sm:p-6 space-y-4 shadow-[0_10px_40px_rgba(79,70,229,0.15)]",children:[(0,b.jsxs)("div",{className:"jsx-4087430059 flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"jsx-4087430059 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"jsx-4087430059 h-2 w-2 rounded-full bg-fuchsia-400 animate-pulse"}),(0,b.jsx)("h1",{className:"jsx-4087430059 text-2xl sm:text-3xl md:text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-indigo-300 to-fuchsia-300",children:y.title})]}),(0,b.jsx)("button",{onClick:Y,className:"jsx-4087430059 btn btn-sm sm:btn-md px-4 sm:px-6 py-2 sm:py-2 font-bold bg-gradient-to-r from-indigo-500 to-fuchsia-500 text-white border-0 shadow-[0_4px_12px_rgba(136,58,255,0.2)] hover:shadow-[0_6px_16px_rgba(136,58,255,0.3)] hover:from-indigo-400 hover:to-fuchsia-400 transition-all duration-200 transform hover:scale-105 active:scale-95 whitespace-nowrap flex-shrink-0",children:y.refresh})]}),(0,b.jsxs)("div",{className:"jsx-4087430059 flex flex-col sm:flex-row gap-3 sm:gap-4 items-center flex-wrap",children:[(0,b.jsx)("label",{className:"jsx-4087430059 text-xs sm:text-sm text-slate-300 font-semibold uppercase tracking-wider",children:"Event:"}),(0,b.jsxs)("select",{value:G,onChange:function(e){return M(e.target.value)},className:"jsx-4087430059 select select-sm bg-slate-800/50 border-indigo-500/30 text-slate-100",children:[(0,b.jsx)("option",{value:"all",className:"jsx-4087430059",children:"All"}),(0,b.jsx)("option",{value:"habit",className:"jsx-4087430059",children:"HabitTraning"}),(0,b.jsx)("option",{value:"target",className:"jsx-4087430059",children:"TargetAchieve"}),(0,b.jsx)("option",{value:"surprise",className:"jsx-4087430059",children:"SurpriseTime"})]}),(0,b.jsx)("label",{className:"jsx-4087430059 text-xs sm:text-sm text-slate-300 font-semibold uppercase tracking-wider",children:"From:"}),(0,b.jsx)("input",{type:"date",value:P,onChange:function(e){return R(e.target.value)},className:"jsx-4087430059 input input-sm bg-slate-800/50 border-indigo-500/30 text-slate-100"}),(0,b.jsx)("label",{className:"jsx-4087430059 text-xs sm:text-sm text-slate-300 font-semibold uppercase tracking-wider",children:"To:"}),(0,b.jsx)("input",{type:"date",value:U,onChange:function(e){return L(e.target.value)},className:"jsx-4087430059 input input-sm bg-slate-800/50 border-indigo-500/30 text-slate-100"})]})]}),(0,b.jsx)("div",{className:"jsx-4087430059 grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[{label:y.totalGoals,value:C.totalGoals,icon:"\uD83D\uDCCA",color:"from-emerald-500 to-green-500"},{label:y.uniqueUsers,value:C.uniqueUsers,icon:"\uD83D\uDC65",color:"from-blue-500 to-cyan-500"},{label:y.totalIncentive,value:"".concat((0,g.s_)(Number(C.totalIncentiveLamports))," SOL"),icon:"\uD83D\uDCB0",color:"from-orange-500 to-red-500"}].map(function(e,t){return(0,b.jsxs)("div",{style:{animation:"fadeInUp 0.5s ease-out ".concat(.1*t,"s both")},className:"jsx-4087430059 group relative rounded-xl sm:rounded-2xl border border-indigo-500/20 bg-gradient-to-br from-slate-950/60 to-slate-900/40 backdrop-blur-md p-6 sm:p-8 space-y-3 sm:space-y-4 shadow-[0_10px_40px_rgba(79,70,229,0.1)] hover:shadow-[0_20px_60px_rgba(136,58,255,0.2)] transition-all duration-300 hover:border-indigo-500/40 hover:from-slate-950/80 hover:to-slate-900/60 overflow-hidden",children:[(0,b.jsx)("div",{className:"jsx-4087430059 absolute -inset-1 bg-gradient-to-r from-indigo-500/10 to-fuchsia-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"}),(0,b.jsxs)("div",{className:"jsx-4087430059 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"jsx-4087430059",children:[(0,b.jsx)("div",{className:"jsx-4087430059 text-xs sm:text-sm uppercase tracking-wider text-slate-400 group-hover:text-slate-300 transition-colors font-semibold",children:e.label}),(0,b.jsx)("div",{className:"jsx-4087430059 "+"text-3xl sm:text-4xl md:text-5xl font-black mt-2 text-transparent bg-clip-text bg-gradient-to-r ".concat(e.color," group-hover:scale-105 transition-transform duration-300"),children:e.value})]}),(0,b.jsx)("div",{className:"jsx-4087430059 text-4xl sm:text-5xl opacity-20 group-hover:opacity-40 group-hover:scale-125 transition-all duration-300",children:e.icon})]})]},e.label)})}),(0,b.jsxs)("div",{className:"jsx-4087430059 grid md:grid-cols-3 gap-4 sm:gap-6",children:[(0,b.jsxs)("div",{className:"jsx-4087430059 group rounded-xl sm:rounded-2xl p-4 sm:p-6 bg-gradient-to-br from-slate-900/40 to-slate-800/10 border border-indigo-500/20 flex flex-col items-center justify-center shadow-[0_10px_40px_rgba(79,70,229,0.1)] hover:shadow-[0_20px_60px_rgba(136,58,255,0.2)] transition-all duration-300 hover:border-indigo-500/40 overflow-hidden",children:[(0,b.jsx)("h4",{className:"jsx-4087430059 text-xs sm:text-sm text-slate-300 mb-4 font-semibold uppercase tracking-wider",children:"By Event Type"}),(0,b.jsx)("div",{className:"jsx-4087430059 group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)(function(e){var t=e.data,a=e.size,s=void 0===a?140:a,r=Object.values(t).reduce(function(e,t){return e+t},0),o={habit:"#7c3aed",target:"#06b6d4",surprise:"#f97316",unknown:"#64748b"},i=s/2,l=Object.entries(t).filter(function(e){return(0,n.Z)(e,2)[1]>0});if(0===l.length)return(0,b.jsx)("svg",{width:s,height:s,viewBox:"0 0 ".concat(s," ").concat(s),style:{filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.6))"},preserveAspectRatio:"xMidYMid meet",children:(0,b.jsx)("circle",{cx:i,cy:i,r:.9*i,fill:"#0f172a",stroke:"rgba(255,255,255,0.03)",strokeWidth:1})});if(1===l.length){var c,d=null!==(c=o[(0,n.Z)(l[0],1)[0]])&&void 0!==c?c:"#999";return(0,b.jsx)("svg",{width:s,height:s,viewBox:"0 0 ".concat(s," ").concat(s),style:{filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.6))"},preserveAspectRatio:"xMidYMid meet",children:(0,b.jsx)("circle",{cx:i,cy:i,r:i,fill:d,stroke:"rgba(0,0,0,0.18)",strokeWidth:1})})}var m=0,u=l.map(function(e){var t,a=(0,n.Z)(e,2),s=a[0],l=a[1],c=m,d=m+360*(l/(r||1));m=d;var u=function(e){var t=(e-90)*(Math.PI/180);return[i+i*Math.cos(t),i+i*Math.sin(t)]},p=u(c),x=(0,n.Z)(p,2),g=x[0],h=x[1],f=u(d),b=(0,n.Z)(f,2),v=b[0],j=b[1];return{key:s,path:"M ".concat(i," ").concat(i," L ").concat(g," ").concat(h," A ").concat(i," ").concat(i," 0 ").concat(d-c>180?1:0," 1 ").concat(v," ").concat(j," Z"),color:null!==(t=o[s])&&void 0!==t?t:"#999",value:l}});return(0,b.jsx)("svg",{width:s,height:s,viewBox:"0 0 ".concat(s," ").concat(s),style:{filter:"drop-shadow(0 4px 12px rgba(0,0,0,0.6))"},preserveAspectRatio:"xMidYMid meet",children:u.map(function(e){return(0,b.jsx)("path",{d:e.path,fill:e.color,stroke:"rgba(15,23,42,0.7)",strokeWidth:.8},e.key)})})},{data:z,size:160,className:"jsx-4087430059"})}),(0,b.jsxs)("div",{className:"jsx-4087430059 mt-4 text-xs text-slate-400 space-y-2",children:[(0,b.jsxs)("div",{className:"jsx-4087430059",children:[(0,b.jsx)("span",{className:"jsx-4087430059 inline-block w-2 h-2 sm:w-3 sm:h-3 bg-[#7c3aed] mr-2 align-middle rounded-full"})," Habit: ",z.habit]}),(0,b.jsxs)("div",{className:"jsx-4087430059",children:[(0,b.jsx)("span",{className:"jsx-4087430059 inline-block w-2 h-2 sm:w-3 sm:h-3 bg-[#06b6d4] mr-2 align-middle rounded-full"})," Target: ",z.target]}),(0,b.jsxs)("div",{className:"jsx-4087430059",children:[(0,b.jsx)("span",{className:"jsx-4087430059 inline-block w-2 h-2 sm:w-3 sm:h-3 bg-[#f97316] mr-2 align-middle rounded-full"})," Surprise: ",z.surprise]})]})]}),(0,b.jsxs)("div",{className:"jsx-4087430059 rounded-xl sm:rounded-2xl p-4 sm:p-6 bg-gradient-to-br from-slate-900/40 to-slate-800/10 border border-indigo-500/20 col-span-1 md:col-span-2 shadow-[0_10px_40px_rgba(79,70,229,0.1)] hover:shadow-[0_20px_60px_rgba(136,58,255,0.2)] transition-all duration-300 hover:border-indigo-500/40",children:[(0,b.jsx)("h4",{className:"jsx-4087430059 text-xs sm:text-sm text-slate-300 mb-4 font-semibold uppercase tracking-wider",children:"Trends (last 30 days)"}),(0,b.jsx)("div",{className:"jsx-4087430059 overflow-x-auto hover:scale-105 transition-transform duration-300 origin-left",children:(0,b.jsx)(function(e){var t=e.data,a=e.width,n=void 0===a?400:a,s=e.height,o=void 0===s?100:s,i=Math.max.apply(Math,(0,r.Z)(t).concat([1])),l=n/(t.length-1||1),c=t.map(function(e,t){return"".concat(t*l,",").concat(o-e/i*o)}).join(" ");return(0,b.jsx)("svg",{width:n,height:o,viewBox:"0 0 ".concat(n," ").concat(o),className:"rounded drop-shadow-[0_4px_8px_rgba(0,0,0,0.3)]",children:(0,b.jsx)("polyline",{fill:"none",stroke:"#7c3aed",strokeWidth:2,points:c,strokeLinecap:"round",strokeLinejoin:"round"})})},{data:D,width:600,height:120,className:"jsx-4087430059"})})]})]}),(0,b.jsxs)("div",{className:"jsx-4087430059 grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"jsx-4087430059 rounded-xl sm:rounded-2xl p-4 sm:p-6 bg-gradient-to-br from-slate-900/60 to-slate-800/30 border border-indigo-500/20 shadow-[0_10px_40px_rgba(79,70,229,0.1)] hover:shadow-[0_20px_60px_rgba(136,58,255,0.2)] transition-all duration-300 hover:border-indigo-500/40",children:[(0,b.jsx)("h3",{className:"jsx-4087430059 font-semibold text-base sm:text-lg mb-4 text-transparent bg-clip-text bg-gradient-to-r from-indigo-300 to-fuchsia-300",children:y.topGoals}),N?(0,b.jsx)("div",{className:"jsx-4087430059 text-slate-400 text-center py-8",children:y.loading}):(0,b.jsxs)("div",{className:"jsx-4087430059 space-y-3",children:[Z.map(function(e,t){var a,n,s,r,o,i=e.publicKey.toBase58(),l=null!==(a=e.account.issuer)&&void 0!==a&&a.toBase58?e.account.issuer.toBase58():String(e.account.issuer),c=null!==(n=e.account.taker)&&void 0!==n&&n.toBase58?e.account.taker.toBase58():String(e.account.taker),m=d.BN.isBN(e.account.totalIncentiveAmount)?e.account.totalIncentiveAmount.toNumber():Number(e.account.totalIncentiveAmount||0);return(0,b.jsx)("div",{className:"jsx-4087430059 group relative p-4 bg-slate-800/40 rounded-lg border border-indigo-500/10 hover:border-indigo-500/40 transition-all duration-300 hover:shadow-[0_8px_24px_rgba(136,58,255,0.15)] hover:bg-slate-800/60 transform hover:-translate-y-1",children:(0,b.jsxs)("div",{className:"jsx-4087430059 flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"jsx-4087430059 flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"jsx-4087430059 flex items-center gap-2 text-xs sm:text-sm text-slate-400 mb-2",children:[(0,b.jsxs)("span",{className:"jsx-4087430059 inline-flex items-center justify-center w-6 h-6 rounded-full bg-gradient-to-r from-indigo-500 to-fuchsia-500 text-white text-xs font-bold flex-shrink-0",children:["#",t+1]}),(0,b.jsx)("span",{className:"jsx-4087430059 text-slate-500",children:"•"}),(0,b.jsx)("span",{className:"jsx-4087430059 truncate",children:(0,g.Ii)(null!==(s=null===(r=e.account.subGoals)||void 0===r?void 0:null===(o=r[0])||void 0===o?void 0:o.title)&&void 0!==s?s:[])||e.account.description}),(0,b.jsx)("a",{href:"https://solscan.io/account/".concat(i).concat(_),target:"_blank",rel:"noreferrer",className:"jsx-4087430059 ml-auto text-xs text-indigo-400 hover:text-indigo-300 transition-colors flex-shrink-0",children:"View →"})]}),(0,b.jsx)("div",{className:"jsx-4087430059 font-semibold text-sm sm:text-base text-white mb-2 truncate",children:e.account.description}),(0,b.jsxs)("div",{className:"jsx-4087430059 text-xs text-slate-500 space-y-1",children:[(0,b.jsxs)("div",{className:"jsx-4087430059",children:[(0,b.jsxs)("span",{className:"jsx-4087430059 text-slate-400",children:[y.issuer,":"]})," ",(0,b.jsx)("a",{href:"https://solscan.io/account/".concat(l).concat(_),target:"_blank",rel:"noreferrer",className:"jsx-4087430059 text-indigo-400 hover:text-indigo-300 transition-colors",children:j(l)})]}),(0,b.jsxs)("div",{className:"jsx-4087430059",children:[(0,b.jsxs)("span",{className:"jsx-4087430059 text-slate-400",children:[y.taker,":"]})," ",(0,b.jsx)("a",{href:"https://solscan.io/account/".concat(c).concat(_),target:"_blank",rel:"noreferrer",className:"jsx-4087430059 text-indigo-400 hover:text-indigo-300 transition-colors",children:j(c)})]})]})]}),(0,b.jsxs)("div",{className:"jsx-4087430059 text-right flex-shrink-0",children:[(0,b.jsx)("div",{className:"jsx-4087430059 text-lg sm:text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-green-500",children:(0,g.s_)(m)}),(0,b.jsx)("div",{className:"jsx-4087430059 text-xs text-slate-500",children:"SOL"})]})]})},i)}),0===Z.length&&(0,b.jsx)("div",{className:"jsx-4087430059 text-slate-400 text-center py-8",children:"—"})]})]}),(0,b.jsxs)("div",{className:"jsx-4087430059 rounded-xl sm:rounded-2xl p-4 sm:p-6 bg-gradient-to-br from-slate-900/60 to-slate-800/30 border border-indigo-500/20 shadow-[0_10px_40px_rgba(79,70,229,0.1)] hover:shadow-[0_20px_60px_rgba(136,58,255,0.2)] transition-all duration-300 hover:border-indigo-500/40",children:[(0,b.jsx)("h3",{className:"jsx-4087430059 font-semibold text-base sm:text-lg mb-4 text-transparent bg-clip-text bg-gradient-to-r from-indigo-300 to-fuchsia-300",children:y.topUsers}),N?(0,b.jsx)("div",{className:"jsx-4087430059 text-slate-400 text-center py-8",children:y.loading}):(0,b.jsxs)("div",{className:"jsx-4087430059 space-y-3",children:[(e=q.length?Number(q[0][1]):1,q.map(function(t,a){var s=(0,n.Z)(t,2),r=s[0],o=s[1],i=Number(o);return(0,b.jsxs)("div",{className:"jsx-4087430059 group p-3 bg-slate-800/40 rounded-lg border border-indigo-500/10 hover:border-indigo-500/40 transition-all duration-300 hover:shadow-[0_8px_24px_rgba(136,58,255,0.15)] hover:bg-slate-800/60",children:[(0,b.jsxs)("div",{className:"jsx-4087430059 flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{className:"jsx-4087430059 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"jsx-4087430059 w-8 h-8 bg-gradient-to-r from-indigo-500 to-fuchsia-500 rounded-full flex items-center justify-center text-xs font-bold text-white flex-shrink-0",children:a+1}),(0,b.jsx)("div",{className:"jsx-4087430059 font-mono text-xs sm:text-sm text-slate-300",children:(0,b.jsxs)("a",{href:"https://solscan.io/account/".concat(r).concat(_),target:"_blank",rel:"noreferrer",className:"jsx-4087430059 text-indigo-400 hover:text-indigo-300 transition-colors",children:[r.slice(0,12),"…"]})})]}),(0,b.jsxs)("div",{className:"jsx-4087430059 font-semibold text-sm text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-green-500",children:[(0,g.s_)(Number(o))," SOL"]})]}),(0,b.jsx)("div",{className:"jsx-4087430059 w-full bg-slate-700/50 h-2 rounded-full overflow-hidden",children:(0,b.jsx)("div",{style:{width:"".concat(Math.round(i/Math.max(e,1)*100),"%")},className:"jsx-4087430059 h-2 bg-gradient-to-r from-indigo-500 to-fuchsia-500 rounded-full transition-all duration-500 group-hover:shadow-[0_0_12px_rgba(136,58,255,0.6)]"})})]},r)})),0===q.length&&(0,b.jsx)("div",{className:"jsx-4087430059 text-slate-400 text-center py-8",children:"—"})]})]})]}),(0,b.jsx)(i(),{id:"4087430059",children:["@-webkit-keyframes fadeInUp-jsx-4087430059{from{opacity:0;-webkit-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);}to{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}","@keyframes fadeInUp-jsx-4087430059{from{opacity:0;-webkit-transform:translateY(20px);-ms-transform:translateY(20px);transform:translateY(20px);}to{opacity:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}}"]})]})}},198:function(){},5395:function(){}}]);